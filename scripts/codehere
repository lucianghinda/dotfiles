#!/bin/bash

# Check if a folder path was provided
if [ -z "$1" ]; then
    echo "Usage: $0 <folder-path>"
    echo "Example: $0 /home/user/my-project"
    exit 1
fi

# Get the absolute path of the folder
FOLDER=$(realpath "$1" 2>/dev/null)

# Check if the folder exists
if [ ! -d "$FOLDER" ]; then
    echo "Error: Folder '$1' does not exist"
    exit 1
fi

# Path to the layout file (adjust if needed)
LAYOUT_FILE="$HOME/.config/zellij/dev-layout.kdl"

# Check if layout file exists
if [ ! -f "$LAYOUT_FILE" ]; then
    echo "Error: Layout file not found at $LAYOUT_FILE"
    exit 1
fi

# Change to the target directory and start Zellij
cd "$FOLDER" || exit 1
zellij --layout "$LAYOUT_FILE"
